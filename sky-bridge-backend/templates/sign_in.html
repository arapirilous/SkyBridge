<!DOCTYPE html>
<html lang="en">
<head>
    <title>Sky Bridge</title>
    <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .fade {
            position: relative;
            z-index: 0;
        }

        .fade:before {
            content: "";
            position: absolute;
            z-index: -1;
            top: 0;
            left: 0;
            right: 0;
            height: 100%;
            mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 1.0) 0%, transparent 100%);
            /*background-image: url("/banner.png");*/
            background-repeat: no-repeat;
            background-size: cover;
            background-position: center;
        }
    </style>
</head>
<body class="bg-gray-50">
<main class="flex flex-row justify-center">
    <form class="max-w-lg p-4" action="/oauth/authorize" method="POST">
        <h2 class="text-2xl font-bold mb-4">Sign In</h2>
        <input type="hidden" name="params" value="{{ form_data }}">
        <div class="mb-6">
            <label class="block text-gray-700 font-bold mb-2" for="identifier">
                Email/Handle
            </label>
            <input id="identifier" name="identifier" autocapitalize="none"
                   class="appearance-none border-2 border-blue-500 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                   placeholder="john.bsky.social">
            <label class="block text-gray-700 font-bold my-2" for="app_password">
                App Password
            </label>
            <input id="app_password" type="password" name="app_password"
                   class="appearance-none border-2 border-blue-500 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                   placeholder="Password">
            <p class="mt-2">For increased security please <a class="text-blue-500 underline"
                                                             href="https://bsky.app/settings/app-passwords">create an
                app password on Bluesky</a> instead of using your main
                password.</p>
            <p class="mt-2">This password is only stored by your client and is never stored on the server.</p>

            <h2 class="text-2xl font-bold my-4">Preferences</h2>
            <label for="show_replies" class="ml-2 text-gray-700 font-bold mb-2 flex items-center">
                <input type="checkbox" id="show_replies" name="show_replies" class="form-checkbox text-blue-600"/>
                <span class="ml-2">Show replies in the home feed?</span>
            </label>

            <div class="##bridge_password_class##">
                <hr class="my-4">
                <label class="block text-gray-700 font-bold mb-2" for="bridge_password">
                    Bridge Password
                </label>
                <input id="bridge_password" type="password" name="bridge_password"
                       class="appearance-none border-2 border-blue-500 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                       placeholder="Password">
            </div>
        </div>
        <button class="select-none flex justify-center items-center w-full shadow-inner bg-gradient-to-b from-blue-400 to-blue-500 text-white px-8 py-3 rounded-lg shadow-md flex items-center space-x-2 transform transition duration-150 ease-in-out active:from-blue-500 active:to-blue-700 active:scale-[0.98]">
            <svg class="w-5 h-5 drop-shadow" viewBox="0 0 360 320" fill="none">
                <path d="M254.896 184.158C252.81 183.926 250.733 183.645 248.671 183.315C250.773 183.574 252.849 183.855 254.896 184.158Z"
                      fill="currentColor"></path>
                <path d="M180 141.964C163.699 110.262 119.308 51.1817 78.0347 22.044C38.4971 -5.86834 23.414 -1.03207 13.526 3.43594C2.08093 8.60755 0 26.1785 0 36.5164C0 46.8542 5.66748 121.272 9.36416 133.694C21.5786 174.738 65.0603 188.607 105.104 184.156C107.151 183.852 109.227 183.572 111.329 183.312C109.267 183.642 107.19 183.924 105.104 184.156C46.4204 192.847 -5.69621 214.233 62.6582 290.33C137.848 368.18 165.705 273.637 180 225.702C194.295 273.637 210.76 364.771 295.995 290.33C360 225.702 313.58 192.85 254.896 184.158C252.81 183.926 250.733 183.645 248.671 183.315C250.773 183.574 252.849 183.855 254.896 184.158C294.94 188.61 338.421 174.74 350.636 133.697C354.333 121.275 360 46.8568 360 36.519C360 26.1811 357.919 8.61012 346.474 3.43851C336.586 -1.02949 321.503 -5.86576 281.965 22.0466C240.692 51.1843 196.301 110.262 180 141.964Z"
                      fill="currentColor"></path>
            </svg>
            <span class="text-white font-semibold drop-shadow">Sign In With Bluesky</span>
        </button>
    </form>
</main>
</body>
</html>